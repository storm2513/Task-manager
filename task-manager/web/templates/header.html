{% block header %}
{% load fontawesome %}
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <a class="navbar-brand" href="/">Task Manager</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link {% if nav_bar == 'categories' %}active{% endif %}" href='{% url 'task_manager:categories' %}'>{% fontawesome_icon 'star' %} Categories<span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle {% if nav_bar == 'tasks' %}active{% endif %}" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{% fontawesome_icon 'tasks' %} Tasks</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href='{% url 'task_manager:tasks' %}'>My</a>
            <a class="dropdown-item" href='{% url 'task_manager:assigned_tasks' %}'>Assigned</a>
            <a class="dropdown-item" href='{% url 'task_manager:can_read_tasks' %}'>Can read</a>
            <a class="dropdown-item" href='{% url 'task_manager:can_write_tasks' %}'>Can write</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle {% if nav_bar == 'notifications' %}active{% endif %}" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{% fontawesome_icon 'bell' %} Notifications</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href='{% url 'task_manager:notifications' %}'>Tasks</a>
            <a class="dropdown-item" href='{% url 'task_manager:all_notifications' %}'>All</a>
            <a class="dropdown-item" href='{% url 'task_manager:created_notifications' %}'>Created</a>
            <a class="dropdown-item" href='{% url 'task_manager:pending_notifications' %}'>Pending</a>
            <a class="dropdown-item" href='{% url 'task_manager:shown_notifications' %}'>Shown</a>
          </div>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle {% if nav_bar == 'plans' %}active{% endif %}" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">{% fontawesome_icon 'paperclip' %} Task plans</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
            <a class="dropdown-item" href='{% url 'task_manager:templates' %}'>Task temlates</a>
            <a class="dropdown-item" href='{% url 'task_manager:plans' %}'>Plans</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if nav_bar == 'users' %}active{% endif %}" href='{% url 'task_manager:users' %}'>{% fontawesome_icon 'users' %} Users<span class="sr-only">(current)</span></a>
        </li>
      </ul>
      <ul class="navbar-nav mr-auto"></ul>
      {% if user.is_authenticated %}
        <ul class="navbar-nav ">
            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle" id="navDropDownLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Profile</a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navDropDownLink">
                  <div class="dropdown-item">{{user.username}}</div>
                  <div class="dropdown-item">Experience: {{user.level.experience}}</div>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href='{% url 'task_manager:logout' %}'>Logout</a>
              </div>
            </li>
        </ul>
      {% else %}
        <a href='{% url 'task_manager:login' %}' class='btn btn-light mr-2'>Login</a>
        <a href='{% url 'task_manager:signup' %}' class='btn btn-outline-success'>Signup</a>
      {% endif %}
    </div>
  </nav>
{% endblock %}
